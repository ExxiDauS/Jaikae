{% extends 'base.html' %}

{% block title %}
  Jaikae - Pets Explore
{% endblock %}

{% block content %}
  <div class="container mx-auto px-4 py-8">
    <!-- Page Title -->
    <div class="text-center mb-8">
      <h1 class="text-4xl font-bold text-primary mb-2">Find Your Perfect Companion</h1>
      <p class="text-lg text-base-content/70">Discover amazing pets looking for their forever homes</p>
    </div>

    <div class="flex flex-col lg:flex-row gap-6">
      <!-- Filter Sidebar -->
      <div class="lg:w-1/4">
        <div class="card bg-base-200 shadow-md">
          <div class="card-body">
            <h2 class="card-title text-primary">
              Filters
            </h2>

            <form method="get" action="" class="flex flex-col gap-2">
              <!-- Search Name -->
              <div>
                <label class="label"><span class="label-text font-medium">Search by name</span></label>
                <input type="text" name="name" placeholder="Enter pet name..." value="{{ filters.name }}" class="input input-bordered input-sm" />
              </div>

              <!-- Sort by -->
              <div>
                <label class="label"><span class="label-text font-medium">Sort by</span></label>
                <select name="sort_by" class="select select-bordered select-sm">
                  {% if not sort_by or sort_by == 'newest' or sort_by == '' %}
                    <option value="newest" selected>Sort by: Newest</option>
                  {% else %}
                    <option value="newest">Sort by: Newest</option>
                  {% endif %}

                  {% if sort_by == 'oldest' %}
                    <option value="oldest" selected>Sort by: Oldest</option>
                  {% else %}
                    <option value="oldest">Sort by: Oldest</option>
                  {% endif %}

                  {% if sort_by == 'name_az' %}
                    <option value="name_az" selected>Sort by: Name A-Z</option>
                  {% else %}
                    <option value="name_az">Sort by: Name A-Z</option>
                  {% endif %}

                  {% if sort_by == 'name_za' %}
                    <option value="name_za" selected>Sort by: Name Z-A</option>
                  {% else %}
                    <option value="name_za">Sort by: Name Z-A</option>
                  {% endif %}

                  {% if sort_by == 'price_low_high' %}
                    <option value="price_low_high" selected>Sort by: Price Low-High</option>
                  {% else %}
                    <option value="price_low_high">Sort by: Price Low-High</option>
                  {% endif %}

                  {% if sort_by == 'price_high_low' %}
                    <option value="price_high_low" selected>Sort by: Price High-Low</option>
                  {% else %}
                    <option value="price_high_low">Sort by: Price High-Low</option>
                  {% endif %}
                </select>
              </div>

              <!-- Species -->
              <div>
                <label class="label"><span class="label-text font-medium">Species</span></label>
                <select name="species" class="select select-bordered select-sm">
                  {% if not filters.species %}
                    <option value="" selected>All Species</option>
                  {% else %}
                    <option value="">All Species</option>
                  {% endif %}

                  {% if filters.species == 'Dog' %}
                    <option value="Dog" selected>Dog</option>
                  {% else %}
                    <option value="Dog">Dog</option>
                  {% endif %}

                  {% if filters.species == 'Cat' %}
                    <option value="Cat" selected>Cat</option>
                  {% else %}
                    <option value="Cat">Cat</option>
                  {% endif %}

                  {% if filters.species == 'Rabbit' %}
                    <option value="Rabbit" selected>Rabbit</option>
                  {% else %}
                    <option value="Rabbit">Rabbit</option>
                  {% endif %}
                </select>
              </div>

              <!-- Gender -->
              <div>
                <label class="label"><span class="label-text font-medium">Gender</span></label>
                <div class="flex gap-4">
                  {% if not filters.gender or filters.gender == '' %}
                    <label class="label cursor-pointer">
                      <input type="radio" name="gender" value="" class="radio radio-primary radio-sm" checked />
                      <span class="label-text ml-2">Any</span>
                    </label>
                  {% else %}
                    <label class="label cursor-pointer">
                      <input type="radio" name="gender" value="" class="radio radio-primary radio-sm" />
                      <span class="label-text ml-2">Any</span>
                    </label>
                  {% endif %}
                  {% if filters.gender == 'Male' %}
                    <label class="label cursor-pointer">
                      <input type="radio" name="gender" value="Male" class="radio radio-primary radio-sm" checked />
                      <span class="label-text ml-2">Male</span>
                    </label>
                  {% else %}
                    <label class="label cursor-pointer">
                      <input type="radio" name="gender" value="Male" class="radio radio-primary radio-sm" />
                      <span class="label-text ml-2">Male</span>
                    </label>
                  {% endif %}

                  {% if filters.gender == 'Female' %}
                    <label class="label cursor-pointer">
                      <input type="radio" name="gender" value="Female" class="radio radio-primary radio-sm" checked />
                      <span class="label-text ml-2">Female</span>
                    </label>
                  {% else %}
                    <label class="label cursor-pointer">
                      <input type="radio" name="gender" value="Female" class="radio radio-primary radio-sm" />
                      <span class="label-text ml-2">Female</span>
                    </label>
                  {% endif %}
                </div>
              </div>

              <!-- Age Range -->
              <div>
                <label class="label"><span class="label-text font-medium">Age Range</span></label>
                <div class="grid grid-cols-2 gap-2">
                  {% if filters.age__gte %}
                    <input type="number" name="min_age" placeholder="Min" step="0.1" class="input input-bordered input-sm" min="0" value="{{ filters.age__gte }}" />
                  {% else %}
                    <input type="number" name="min_age" placeholder="Min" step="0.1" class="input input-bordered input-sm" min="0" />
                  {% endif %}

                  {% if filters.age__lte %}
                    <input type="number" name="max_age" placeholder="Max" step="0.1" class="input input-bordered input-sm" min="0" value="{{ filters.age__lte }}" />
                  {% else %}
                    <input type="number" name="max_age" placeholder="Max" step="0.1" class="input input-bordered input-sm" min="0" />
                  {% endif %}
                </div>
              </div>

              <!-- Weight Range -->
              <div>
                <label class="label"><span class="label-text font-medium">Weight (kg)</span></label>
                <div class="grid grid-cols-2 gap-2">
                  {% if filters.weight__gte %}
                    <input type="number" name="min_weight" placeholder="Min" step="0.1" class="input input-bordered input-sm" min="0" value="{{ filters.weight__gte }}" />
                  {% else %}
                    <input type="number" name="min_weight" placeholder="Min" step="0.1" class="input input-bordered input-sm" min="0" />
                  {% endif %}

                  {% if filters.weight__lte %}
                    <input type="number" name="max_weight" placeholder="Max" step="0.1" class="input input-bordered input-sm" min="0" value="{{ filters.weight__lte }}" />
                  {% else %}
                    <input type="number" name="max_weight" placeholder="Max" step="0.1" class="input input-bordered input-sm" min="0" />
                  {% endif %}
                </div>
              </div>

              <!-- Adoption Fee Range -->
              <div>
                <label class="label"><span class="label-text font-medium">Adoption Fee ($)</span></label>
                <div class="grid grid-cols-2 gap-2">
                  {% if filters.adoption_fee__gte %}
                    <input type="number" name="min_fee" placeholder="Min" class="input input-bordered input-sm" min="0" value="{{ filters.adoption_fee__gte }}" />
                  {% else %}
                    <input type="number" name="min_fee" placeholder="Min" class="input input-bordered input-sm" min="0" />
                  {% endif %}

                  {% if filters.adoption_fee__lte %}
                    <input type="number" name="max_fee" placeholder="Max" class="input input-bordered input-sm" min="0" value="{{ filters.adoption_fee__lte }}" />
                  {% else %}
                    <input type="number" name="max_fee" placeholder="Max" class="input input-bordered input-sm" min="0" />
                  {% endif %}
                </div>
              </div>

              <!-- Vaccinated -->
              <div>
                <label class="label"><span class="label-text font-medium">Vaccinated</span></label>
                <div class="mt-2">
                  {% if filters.vaccinated %}
                    <label class="label cursor-pointer justify-start">
                      <input type="checkbox" name="vaccinated" value="vaccinated" class="checkbox checkbox-primary checkbox-sm text-white" checked />
                      <span class="label-text ml-3">Vaccinated</span>
                    </label>
                  {% else %}
                    <label class="label cursor-pointer justify-start">
                      <input type="checkbox" name="vaccinated" value="vaccinated" class="checkbox checkbox-primary checkbox-sm text-white" />
                      <span class="label-text ml-3">Vaccinated</span>
                    </label>
                  {% endif %}
                </div>
              </div>

              <!-- Filter Actions -->
              <div class="flex gap-2 mt-2">
                <button type="submit" class="btn btn-primary btn-sm flex-1 text-white">Apply Filters</button>
                <a href="{% url 'pets' %}" class="btn btn-outline btn-sm">Clear</a>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Pet Cards Grid -->
      <div class="lg:w-3/4">
        <!-- Results Info -->
        <div class="flex justify-between items-center mb-6">
          <div class="text-base-content/70">
            <span class="font-medium">24 pets</span> available for adoption
          </div>
        </div>

        <!-- Pet Cards Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
          <!-- Pet Card 1 -->
          <div class="card card-compact bg-base-100 shadow-md hover:shadow-lg transition-shadow">
            <figure class="relative">
              <img src="https://images.unsplash.com/photo-1583337130417-3346a1be7dee?w=400&h=300&fit=crop" alt="Buddy" class="h-48 w-full object-cover" />
              <div class="badge badge-success absolute bottom-2 left-2">Available</div>
            </figure>
            <div class="card-body">
              <h2 class="card-title text-primary">Buddy<div class="badge badge-secondary">2 years</div></h2>
              <div class="text-sm space-y-1">
                <div>
                  Golden Retriever
                </div>
                <div>
                  Male
                </div>
                <div>
                  Golden
                </div>
                <div>
                  25.5 kg
                </div>
              </div>
              <p class="text-sm text-base-content/70 mt-2">Friendly and energetic dog looking for an active family. Loves playing fetch!</p>
              <div class="card-actions justify-between items-center mt-4">
                <div class="text-lg font-bold text-primary">$150</div>
                <a href="/pets/1/" class="btn btn-primary btn-sm text-white">Learn More</a>
              </div>
            </div>
          </div>

          <!-- Pet Card 2 -->
          <div class="card card-compact bg-base-100 shadow-md hover:shadow-lg transition-shadow">
            <figure class="relative">
              <img src="https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=400&h=300&fit=crop" alt="Luna" class="h-48 w-full object-cover" />
              <div class="badge badge-success absolute bottom-2 left-2">Available</div>
            </figure>
            <div class="card-body">
              <h2 class="card-title text-primary">Luna<div class="badge badge-secondary">1 year</div></h2>
              <div class="text-sm space-y-1">
                <div>
                  Persian Cat
                </div>
                <div>
                  Female
                </div>
                <div>
                  White
                </div>
                <div>
                  3.2 kg
                </div>
              </div>
              <p class="text-sm text-base-content/70 mt-2">Calm and affectionate cat who loves to cuddle and watch the world go by.</p>
              <div class="card-actions justify-between items-center mt-4">
                <div class="text-lg font-bold text-primary">$200</div>
                <a href="/pets/2/" class="btn btn-primary btn-sm text-white">Learn More</a>
              </div>
            </div>
          </div>

          <!-- Pet Card 3 -->
          <div class="card card-compact bg-base-100 shadow-md hover:shadow-lg transition-shadow">
            <figure class="relative">
              <img src="https://images.unsplash.com/photo-1585110396000-c9ffd4e4b308?w=400&h=300&fit=crop" alt="Charlie" class="h-48 w-full object-cover" />
              <div class="badge badge-warning absolute bottom-2 left-2">Pending</div>
            </figure>
            <div class="card-body">
              <h2 class="card-title text-primary">Charlie<div class="badge badge-secondary">3 years</div></h2>
              <div class="text-sm space-y-1">
                <div>
                  Holland Lop
                </div>
                <div>
                  Male
                </div>
                <div>
                  Brown & White
                </div>
                <div>
                  1.8 kg
                </div>
              </div>
              <p class="text-sm text-base-content/70 mt-2">Gentle rabbit who enjoys being petted and is great with children.</p>
              <div class="card-actions justify-between items-center mt-4">
                <div class="text-lg font-bold text-primary">$75</div>
                <a href="/pets/3/" class="btn btn-primary btn-sm text-white">Learn More</a>
              </div>
            </div>
          </div>

          <!-- Pet Card 4 -->
          <div class="card card-compact bg-base-100 shadow-md hover:shadow-lg transition-shadow">
            <figure class="relative">
              <img src="https://images.unsplash.com/photo-1601758228041-f3b2795255f1?w=400&h=300&fit=crop" alt="Max" class="h-48 w-full object-cover" />
              <div class="badge badge-success absolute bottom-2 left-2">Available</div>
            </figure>
            <div class="card-body">
              <h2 class="card-title text-primary">Max<div class="badge badge-secondary">4 years</div></h2>
              <div class="text-sm space-y-1">
                <div>
                  German Shepherd
                </div>
                <div>
                  Male
                </div>
                <div>
                  Black & Tan
                </div>
                <div>
                  32.0 kg
                </div>
              </div>
              <p class="text-sm text-base-content/70 mt-2">Well-trained and loyal companion. Perfect guard dog and family protector.</p>
              <div class="card-actions justify-between items-center mt-4">
                <div class="text-lg font-bold text-primary">$250</div>
                <a href="/pets/4/" class="btn btn-primary btn-sm text-white">Learn More</a>
              </div>
            </div>
          </div>

          <!-- Pet Card 5 -->
          <div class="card card-compact bg-base-100 shadow-md hover:shadow-lg transition-shadow">
            <figure class="relative">
              <img src="https://images.unsplash.com/photo-1573865526739-10659fec78a5?w=400&h=300&fit=crop" alt="Bella" class="h-48 w-full object-cover" />
              <div class="badge badge-success absolute bottom-2 left-2">Available</div>
            </figure>
            <div class="card-body">
              <h2 class="card-title text-primary">Bella<div class="badge badge-secondary">6 months</div></h2>
              <div class="text-sm space-y-1">
                <div>
                  Maine Coon
                </div>
                <div>
                  Female
                </div>
                <div>
                  Orange Tabby
                </div>
                <div>
                  2.1 kg
                </div>
              </div>
              <p class="text-sm text-base-content/70 mt-2">Playful kitten who loves toys and is very social with other cats.</p>
              <div class="card-actions justify-between items-center mt-4">
                <div class="text-lg font-bold text-primary">$100</div>
                <a href="/pets/5/" class="btn btn-primary btn-sm text-white">Learn More</a>
              </div>
            </div>
          </div>

          <!-- Pet Card 6 -->
          <div class="card card-compact bg-base-100 shadow-md hover:shadow-lg transition-shadow">
            <figure class="relative">
              <img src="https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=400&h=300&fit=crop" alt="Rocky" class="h-48 w-full object-cover" />
              <div class="badge badge-success absolute bottom-2 left-2">Available</div>
            </figure>
            <div class="card-body">
              <h2 class="card-title text-primary">Rocky<div class="badge badge-secondary">5 years</div></h2>
              <div class="text-sm space-y-1">
                <div>
                  Bulldog
                </div>
                <div>
                  Male
                </div>
                <div>
                  Brindle
                </div>
                <div>
                  22.7 kg
                </div>
              </div>
              <p class="text-sm text-base-content/70 mt-2">Calm and gentle dog who prefers indoor activities and short walks.</p>
              <div class="card-actions justify-between items-center mt-4">
                <div class="text-lg font-bold text-primary">$180</div>
                <a href="/pets/6/" class="btn btn-primary btn-sm text-white">Learn More</a>
              </div>
            </div>
          </div>
        </div>

        <!-- Pagination -->
        <div class="flex justify-center mt-8">
          <div class="join">
            <button class="join-item btn btn-disabled">«</button>
            <button class="join-item btn btn-active">1</button>
            <button class="join-item btn">2</button>
            <button class="join-item btn">3</button>
            <button class="join-item btn">»</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer footer-center p-10 bg-primary text-primary-content mt-16">
    <div>
      <i class="fas fa-paw text-4xl"></i>
      <p class="font-bold">
        PetAdopt
        <br />Connecting pets with loving families since 2023
      </p>
      <p>Copyright © 2024 - All right reserved</p>
    </div>
  </footer>

{% endblock %}
